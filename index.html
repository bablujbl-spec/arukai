<!doctype html>
<html>
  <head><meta charset="utf-8"><title>AruKab</title></head>
  <body>
    <h1>Welcome to AruKab</h1>
    <p>This is deployed via Vercel.</p>

    <div>
      <label>Type your question</label><br>
      <input id="prompt" type="text" placeholder="Type your question" style="width:60%">
      <button id="ask">Ask GPT-5</button>
    </div>

    <pre id="result" style="background:#f4f4f4;padding:10px;margin-top:10px;"></pre>

    <script>
      document.getElementById("ask").addEventListener("click", async () => {
        const prompt = document.getElementById("prompt").value;
        if (!prompt) return alert("Write a question first");
        document.getElementById("result").innerText = "Loading...";
        try {
          const res = await fetch("/api/chat", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ prompt })
          });
          const data = await res.json();
          if (data.error) document.getElementById("result").innerText = "Error: " + data.error;
          else document.getElementById("result").innerText = data.result || "(no result)";
        } catch (e) {
          document.getElementById("result").innerText = "Fetch error: " + e.message;
        }
      });
    </script>
  </body>
</html>
